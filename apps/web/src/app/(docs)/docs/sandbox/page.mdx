# Sandbox lifecycle

When you start the sandbox, it stays alive for 5 minutes by default but you can change it by passing the `timeout` parameter.
After the time passes, the sandbox will be automatically shutdown.
<CodeGroup>
```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
// ðŸš¨ Note: The units are milliseconds.
const sandbox = await Sandbox.create({
  timeoutMs: 60_000, // $HighlightLine
})
```
```python
from e2b_code_interpreter import Sandbox

# Create sandbox with and keep it running for 60 seconds.
# ðŸš¨ Note: The units are seconds.
sandbox = Sandbox(
  timeout=60, # $HighlightLine
)
```
</CodeGroup>


## Change sandbox timeout during runtime

You can change the sandbox timeout when it's running by calling the the `setTimeout` method in JavaScript or `set_timeout` method in Python.

When you call the set timeout method, the sandbox timeout will be reset to the new value that you specified.

This can be useful if you want to extend the sandbox lifetime when it's already running.
You can for example start with a sandbox with 1 minute timeout and then periodically call set timout every time user interacts with it in your app.

<CodeGroup>
```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Change the sandbox timeout to 30 seconds.
// ðŸš¨ The new timeout will be 30 seconds from now.
await sandbox.setTimeout(30_000)
```
```python
from e2b_code_interpreter import Sandbox

# Create sandbox with and keep it running for 60 seconds.
sandbox = Sandbox(timeout=60)

# Change the sandbox timeout to 30 seconds.
# ðŸš¨ The new timeout will be 30 seconds from now.
sandbox.set_timeout(30)
```
</CodeGroup>

## Retrieve sandbox information

You can retrieve sandbox information like sandbox ID, template, metadata, started at/end at date by calling the `getInfo` method in JavaScript or `get_info` method in Python.

<CodeGroup>
```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Retrieve sandbox information.
const info = await sandbox.getInfo()

console.log(info)

// {
//   "sandboxId": "iiny0783cype8gmoawzmx-ce30bc46",
//   "templateId": "rki5dems9wqfm4r03t7g",
//   "name": "base",
//   "metadata": {},
//   "startedAt": "2025-03-24T15:37:58.076Z",
//   "endAt": "2025-03-24T15:42:58.076Z"
// }
```

```python
from e2b_code_interpreter import Sandbox

# Create sandbox with and keep it running for 60 seconds.
sandbox = Sandbox(timeout=60)

# Retrieve sandbox information.
info = sandbox.get_info()

print(info)

# SandboxInfo(sandbox_id='ig6f1yt6idvxkxl562scj-419ff533',
#   template_id='u7nqkmpn3jjf1tvftlsu',
#   name='base',
#   metadata={},
#   started_at=datetime.datetime(2025, 3, 24, 15, 42, 59, 255612, tzinfo=tzutc()),
#   end_at=datetime.datetime(2025, 3, 24, 15, 47, 59, 255612, tzinfo=tzutc())
# )
```
</CodeGroup>

## Shutdown sandbox

You can shutdown the sandbox any time even before the timeout is up by calling the `kill` method.

<CodeGroup>
```js
import { Sandbox } from '@e2b/code-interpreter'

// Create sandbox with and keep it running for 60 seconds.
const sandbox = await Sandbox.create({ timeoutMs: 60_000 })

// Shutdown the sandbox immediately.
await sandbox.kill()
```
```python
from e2b_code_interpreter import Sandbox

# Create sandbox with and keep it running for 60 seconds.
sandbox = Sandbox(timeout=60)

# Shutdown the sandbox immediately.
sandbox.kill()
```
</CodeGroup>

## Monitor sandbox lifecycle events

<Note>
Sandbox lifecycle API is currently in private beta.
If youâ€™re interested in this offering, please book a call with our team [here](https://e2b.dev/contact) or contact us at [enterprise@e2b.dev](mailto:enterprise@e2b.dev).
</Note>

The Lifecycle API provides RESTful endpoints to request the latest sandbox Lifecycle events. This allows you to track when sandboxes are created, updated, or killed, along with metadata.
All requests require authentication using your team [API key](/docs/api-key#where-to-find-api-key).

Query Parameters:
- `offset` (optional): Number of events to skip (default: 0, min: 0)
- `limit` (optional): Number of events to return (default: 10, min: 1, max: 100)
- `orderAsc` (optional): Sort order - true for ascending, false for descending (default: false)

```js
import { Sandbox } from '@e2b/code-interpreter'

const sbx = await Sandbox.create()

// Get the latest events for a specific sandbox
const resp1 = await fetch(
  `https://api.e2b.app/events/sandboxes/${sbx.id}`,
  {
    method: 'GET',
    headers: {
      'X-API-Key': E2B_API_KEY,
    },
  }
)
const sandboxEvents = await resp1.json()

// Get the latest 10 events for all sandboxes associated with the team
const resp2 = await fetch(
  'https://api.e2b.app/events/sandboxes',
  {
    method: 'GET',
    headers: {
      'X-API-Key': E2B_API_KEY,
    },
  }
)
const teamSandboxEvents = await resp2.json()
```
```python
import requests
from e2b_code_interpreter import Sandbox

sbx = Sandbox()

# Get the latest events for a specific sandbox
resp1 = requests.get(
    f"https://api.e2b.app/events/sandboxes/{sbx.sandbox_id}",
    headers={
        "X-API-Key": E2B_API_KEY,
    }
)
sandbox_events = resp1.json()

# Get the latest 10 events for all sandboxes associated with the team
resp2 = requests.get(
    "https://api.e2b.app/events/sandboxes?limit=10",
    headers={
        "X-API-Key": E2B_API_KEY,
    }
)
team_sandbox_events = resp2.json()

print(team_sandbox_events)
# [
#   {
#     "eventCategory": "lifecycle",
#     "eventData": null,
#     "eventLabel": "kill",
#     "sandboxBuildId": "a979a14b-bdcc-49e6-bc04-1189fc9fe7c2",
#     "sandboxExecutionId": "1dae9e1c-9957-4ce7-a236-a99d5779aadf",
#     "sandboxId": "${SANDBOX_ID}",
#     "sandboxTeamId": "460355b3-4f64-48f9-9a16-4442817f79f5",
#     "sandboxTemplateId": "rki5dems9wqfm4r03t7g",
#     "timestamp": "2025-08-06T20:59:36Z"
#   },
#   {
#     "eventCategory": "lifecycle",
#     "eventData": {
#       "set_timeout": "2025-08-06T20:59:59Z"
#     },
#     "eventLabel": "update",
#     "sandboxBuildId": "a979a14b-bdcc-49e6-bc04-1189fc9fe7c2",
#     "sandboxExecutionId": "1dae9e1c-9957-4ce7-a236-a99d5779aadf",
#     "sandboxId": "${SANDBOX_ID}",
#     "sandboxTeamId": "460355b3-4f64-48f9-9a16-4442817f79f5",
#     "sandboxTemplateId": "rki5dems9wqfm4r03t7g",
#     "timestamp": "2025-08-06T20:59:29Z"
#   },
#   [...]
#   {
#     "eventCategory": "lifecycle",
#     "eventData": null,
#     "eventLabel": "create",
#     "sandboxBuildId": "a979a14b-bdcc-49e6-bc04-1189fc9fe7c2",
#     "sandboxExecutionId": "1dae9e1c-9957-4ce7-a236-a99d5779aadf",
#     "sandboxId": "${SANDBOX_ID}",
#     "sandboxTeamId": "460355b3-4f64-48f9-9a16-4442817f79f5",
#     "sandboxTemplateId": "rki5dems9wqfm4r03t7g",
#     "timestamp": "2025-08-06T20:59:24Z"
#   }
# ]
```